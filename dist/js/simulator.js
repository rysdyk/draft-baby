function startDraft(){var e=document.getElementById("draft-settings");e.classList.add("hidden"),teams=parseInt(document.getElementById("teams").value),draftPos=parseInt(document.getElementById("draftPos").value),setPicks(teams,draftPos),computerPicks(players)}function setPicks(e,t){for(var r=t;r<=players.length;r+=2*e)picks.push(r);for(var n=2*e-t+1;n<=players.length;n+=2*e)picks.push(n)}function computerPicks(){if(picks.includes(count))userDraft();else{var e=players.shift();draftSelected(e),count++,run=setTimeout(function(){computerPicks()},750)}}function userDraft(){clearTimeout(run);var e=document.querySelector("tbody").childNodes;e.forEach(function(e){e.addEventListener("click",function(){for(var e=0;e<players.length;e++)if(players[e].name==this.childNodes[0].innerHTML){var t=players[e];players.splice(e,1),draftSelected(t),count++;var r=document.getElementById("team"),n=document.createElement("li");r.appendChild(document.createTextNode(t.position+" "+t.name+" "+t.bye)),r.appendChild(n),setTimeout(function(){computerPicks()},750);break}})})}function draftSelected(e){fullDraftedList.push(e);var t=document.querySelector("tbody").childNodes;t.forEach(function(t){var r=t.childNodes[0].innerText;e.name==r&&t.classList.add("picked")});var r=document.getElementById("drafted"),n=document.createElement("li");n.appendChild(document.createTextNode(count+". "+e.name)),r.prepend(n)}var request=new XMLHttpRequest;request.open("GET","../lib/ffc_2017_6_23.json",!1),request.send(null);var players=JSON.parse(request.responseText),table=document.getElementById("draftable-player-list"),tbody=table.getElementsByTagName("tbody");players.forEach(function(e){var t=document.createElement("tr");tbody[0].appendChild(t);for(var r in e)if("name"==r||"position"==r||"team"==r||"bye"==r){var n=document.createElement("td");n.appendChild(document.createTextNode(e[r])),t.appendChild(n)}}),players.forEach(function(e,t){var r,n,a=players.indexOf(e);t<25?(r=1.2*a+4,n=.7*a-4):t>=25&&t<51?(r=1.1*a,n=.8*a):t>=51&&t<100?(r=1.05*a,n=.9*a):(r=1.05*a,n=.9*a),n<0&&(n=0),sorted_pos=Math.random()*(r-n)+n,players[t].sorted_pos=sorted_pos}),players.sort(function(e,t){return e.sorted_pos-t.sorted_pos});var count=1,run,picks=[],teams,draftPos,fullDraftedList=[];
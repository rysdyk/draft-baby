function sortTable(e,t,a){var n,r=e.tBodies[0],l=Array.prototype.slice.call(r.rows,0);for(a=-(+a||-1),l=l.sort(function(e,n){var r=parseFloat(e.cells[t].textContent.trim()),l=parseFloat(n.cells[t].textContent.trim());return r>l?a:a*-1}),n=0;n<l.length;++n)r.appendChild(l[n])}function makeSortable(e){var t,a=e.tHead;if(a&&(a=a.rows[0])&&(a=a.cells),a)for(t=a.length;--t>=0;)(function(t){var n=1;a[t].addEventListener("click",function(){sortTable(e,t,n=1-n),clearEstimate()})})(t)}function makeAllSortable(e){e=e||document.body;for(var t=e.getElementsByTagName("table"),a=t.length;--a>=0;)makeSortable(t[a])}function estimate(){var e=table.querySelector("tbody").childNodes;e.forEach(function(e){e.classList.remove("estimated")});for(var t=parseInt(teams.value),a=parseInt(draftPos.value),n=a;n<=players.length;n+=2*t)e[n-1].classList.add("estimated");for(var r=2*t-a;r<=players.length;r+=2*t)e[r].classList.add("estimated")}function clearEstimate(){for(var e=table.querySelector("tbody").childNodes,t=0;t<e.length;t++)e[t].classList.remove("estimated")}function filterPlayers(){var e,t,a,n,r,l;for(e=document.getElementById("filterInput"),t=e.value.toUpperCase(),a=document.getElementById("full-player-list"),n=a.getElementsByTagName("tr"),l=0;l<n.length;l++)r=n[l].getElementsByTagName("td")[1],r&&(r.innerHTML.toUpperCase().indexOf(t)>-1?n[l].style.display="":n[l].style.display="none")}var request=new XMLHttpRequest;request.open("GET","../lib/ffc_2017_6_23.json",!1),request.send(null);var players=JSON.parse(request.responseText),table=document.getElementById("full-player-list"),tbody=table.getElementsByTagName("tbody"),teams=document.getElementById("teams"),draftPos=document.getElementById("draftPos");players.forEach(function(e){var t=document.createElement("tr");tbody[0].appendChild(t);for(var a in e){var n=document.createElement("td");"avg_rank"==a||"std_dev"==a?n.appendChild(document.createTextNode(Math.round(10*parseFloat(e[a]))/10)):n.appendChild(document.createTextNode(e[a])),t.appendChild(n)}}),window.onload=function(){makeAllSortable()},teams.addEventListener("change",function(){var e=parseInt(teams.value);draftPos.innerHTML="";for(var t=1;t<=e;t++){var a=document.createElement("option");a.text=t,a.value=t,draftPos.add(a)}});
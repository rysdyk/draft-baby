draftApp.controller("PlayerListController",["$scope","playersFactory","draftedFactory","tagFactory",function(a,t,r,e){function n(){t.getRankings().then(function(t){a.players=t.data,angular.forEach(a.players,function(t,r){a.players[r].tag=0})}).then(function(){if(localStorage.getItem("DraftBabyDraftedList")){var t=JSON.parse(localStorage.getItem("DraftBabyDraftedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a.name});for(var o in n)a.players[e].drafted=n[o]})}}).then(function(){if(localStorage.getItem("DraftBabyTaggedList")){var t=JSON.parse(localStorage.getItem("DraftBabyTaggedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a[0]});n=n[0];for(var o in n)a.players[e].tag=n[1]})}})}n(),r(a),a.propertyName="rank",a.sortReverse=!1,a.sortBy=function(t){a.reverse=a.propertyName===t&&!a.reverse,a.propertyName=t},a.greaterThan=function(a,t){return function(r){return r[a]>t}},e(a)}]),draftApp.controller("CustomListController",["$scope","playersFactory","draftedFactory","tagFactory","orderByFilter",function(a,t,r,e,n){function o(){t.getRankings().then(function(t){a.players=t.data,angular.forEach(a.players,function(t,r){a.players[r].tag=0})}).then(function(){if(localStorage.getItem("DraftBabyCustomRank")){var t=JSON.parse(localStorage.getItem("DraftBabyCustomRank"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a[0]});n=n[0];for(var o in n)a.players[e].customrank=n[o]})}}).then(function(){localStorage.getItem("DraftBabyCustomRank")&&(a.players=n(a.players,"customrank"))}).then(function(){if(localStorage.getItem("DraftBabyDraftedList")){var t=JSON.parse(localStorage.getItem("DraftBabyDraftedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a.name});for(var o in n)a.players[e].drafted=n[o]})}}).then(function(){if(localStorage.getItem("DraftBabyTaggedList")){var t=JSON.parse(localStorage.getItem("DraftBabyTaggedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a[0]});n=n[0];for(var o in n)a.players[e].tag=n[1]})}})}o(),e(a);var f=[];a.sortableOptions={stop:function(t,r){f=[],angular.forEach(a.players,function(a,t){var r=[a.name,t];f.push(r)}),localStorage.setItem("DraftBabyCustomRank",JSON.stringify(f))}},r(a),a.clearCustomRank=function(){localStorage.removeItem("DraftBabyCustomRank"),a.players=n(a.players,"rank")}}]),draftApp.controller("PositionsListController",["$scope","playersFactory","draftedFactory","tagFactory","orderByFilter",function(a,t,r,e,n){function o(){t.getRankings().then(function(t){a.players=t.data,angular.forEach(a.players,function(t,r){a.players[r].tag=0})}).then(function(){if(localStorage.getItem("DraftBabyCustomRank")){var t=JSON.parse(localStorage.getItem("DraftBabyCustomRank"));a.customRankSet=!0,angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a[0]});n=n[0];for(var o in n)a.players[e].customrank=n[o]})}}).then(function(){localStorage.getItem("DraftBabyCustomRank")&&(a.players=n(a.players,"customrank"))}).then(function(){if(localStorage.getItem("DraftBabyDraftedList")){var t=JSON.parse(localStorage.getItem("DraftBabyDraftedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a.name});for(var o in n)a.players[e].drafted=n[o]})}}).then(function(){if(localStorage.getItem("DraftBabyTaggedList")){var t=JSON.parse(localStorage.getItem("DraftBabyTaggedList"));angular.forEach(a.players,function(r,e){var n=t.filter(function(a){return r.name==a[0]});n=n[0];for(var o in n)a.players[e].tag=n[1]})}})}o(),a.espnurl="http://games.espn.go.com/ffl/tools/projections?display=alt&avail=-1&search=",r(a),e(a)}]);
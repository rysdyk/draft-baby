!function(){var t={init:function(){this.cacheDOM(),this.getPlayers(),this.renderPlayers(),this.addEvents(),this.getDraftSettings()},cacheDOM:function(){this.table=document.getElementById("full-player-list"),this.tbody=this.table.getElementsByTagName("tbody"),this.teams=document.getElementById("teams"),this.draftPos=document.getElementById("draftPos"),this.rows=this.tbody[0].childNodes,this.filterInput=document.getElementById("filterInput"),this.draftButton=document.getElementById("estimateDraft")},getPlayers:function(){var t=new XMLHttpRequest;t.open("GET","lib/2017/ffc_2017_6_23.json",!1),t.send(null),this.players=JSON.parse(t.responseText)},renderPlayers:function(){this.players.forEach(function(e,n){var a=document.createElement("tr");t.tbody[0].appendChild(a);var s=document.createElement("td");s.appendChild(document.createTextNode(n+1)),a.appendChild(s);for(var i in e)if("name"==i||"position"==i||"team"==i||"bye"==i){var s=document.createElement("td");s.appendChild(document.createTextNode(e[i])),a.appendChild(s)}})},addEvents:function(){var t=this.renderDraftEstimate,e=this.filterPlayers;this.draftButton.addEventListener("click",function(){t()}),this.filterInput.addEventListener("keyup",function(){e()})},getDraftSettings:function(){this.teams.addEventListener("change",function(){var e=parseInt(t.teams.value);t.draftPos.innerHTML="";for(var n=1;n<=e;n++){var a=document.createElement("option");a.text=n,a.value=n,t.draftPos.add(a)}})},renderDraftEstimate:function(){var e=t.rows;e.forEach(function(t){t.classList.remove("estimated")});for(var n=parseInt(this.teams.value),a=parseInt(this.draftPos.value),s=a;s<=t.players.length;s+=2*n)e[s-1].classList.add("estimated");for(var i=2*n-a;i<=t.players.length;i+=2*n)e[i].classList.add("estimated")},filterPlayers:function(){var e,n,a,s=t.rows;for(e=this.filterInput.value.toUpperCase(),a=0;a<s.length;a++)n=s[a].getElementsByTagName("td")[1],n&&(n.innerHTML.toUpperCase().indexOf(e)>-1?s[a].style.display="":s[a].style.display="none")}};t.init()}();
!function(){var t={init:function(){this.cacheDom(),this.setNodeRows(),this.setDrafted(),this.catchUp(),this.addClick(),this.setLocal()},cacheDom:function(){this.drafted=[],this.tbodies=document.querySelectorAll("tbody"),this.nodeRows=[],this.list=document.getElementById("drafted")},setNodeRows:function(){this.tbodies.forEach(function(e){e.childNodes.forEach(function(e){t.nodeRows.push(e)})})},setDrafted:function(){localStorage.drafted?this.drafted=JSON.parse(localStorage.drafted):this.drafted=[]},catchUp:function(){var t=this.drafted,e=this.list;this.nodeRows.forEach(function(d){var n=d.childNodes[1].innerText;if(t.includes(n)){d.style.display="none";var o=document.createElement("li");o.appendChild(document.createTextNode(n)),e.appendChild(o)}})},addClick:function(){var t=this.drafted,e=this.showDrafted,d=this.setLocal,n=document.getElementById("undo-draft"),o=this.undoDraft;document.getElementById("clear-draft");this.nodeRows.forEach(function(n){n.addEventListener("click",function(){this.style.display="none",t.push(this.children[1].innerText),e(this),d()})}),n.addEventListener("click",function(t){o(t)})},showDrafted:function(t){var e=document.getElementById("drafted"),d=document.createElement("li");d.appendChild(document.createTextNode(t.children[1].innerText)),e.appendChild(d)},setLocal:function(){var e=t.drafted;"undefined"!=typeof Storage?localStorage.setItem("drafted",JSON.stringify(e)):console.log("Sorry, no local storage")},undoDraft:function(e){e.preventDefault();var d=t.drafted,n=t.list,o=t.nodeRows,i=t.setLocal,a=d.pop();n.removeChild(n.lastChild),o.forEach(function(t){var e=t.childNodes[1].innerText;a==e&&(t.style.display="")}),i()}};t.init()}();